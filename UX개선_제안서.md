# UX 개선 제안서: 로그인 → 대시보드 흐름 최적화

## 배경

- 경찰/소방 수험번호가 동일할 수 있으므로 **직렬 선택은 필수 유지**
- 시험 전 수험표 인쇄, 시험 후 성적 분석이라는 **2가지 사용 목적**을 모두 수용해야 함

## 현재 흐름의 문제점

```
[1화면] 수험번호 입력 → 이름 입력 → 직렬 선택 → 로그인 클릭
[2화면] 시험 드롭다운 선택 → 성적 분석 시작 클릭
[3화면] 대시보드
```

- **총 6단계, 3화면 전환**
- 시험 선택이 별도 화면으로 분리되어 불필요한 화면 전환 발생
- 성적 데이터가 없으면 대시보드 진입 자체가 불가 → 수험표 인쇄 불가

### 구체적 비효율

| 문제 | 이유 |
|------|------|
| 시험 선택 화면이 별도 | 학원 모의고사 특성상 현재 진행 중인 시험이 1~2개. 대부분 최신 시험 1개를 보러 옴 |
| 2번 클릭해야 진입 | 로그인 버튼 + 분석 시작 버튼, 목적이 같은 동작을 2번 확인시킴 |
| 성적 없으면 진입 불가 | 시험 전 수험표 인쇄가 불가능 |

---

## 개선안: 1화면 통합 로그인 (직렬 선택 유지)

### 현재 vs 개선

| | 현재 (3화면) | 개선안 (1화면) |
|---|---|---|
| 1화면 | 수험번호 + 이름 + 직렬 → 로그인 | 수험번호 + 이름 + 직렬 + 시험선택 → 확인 |
| 2화면 | 시험 선택 → 분석시작 | *(없음)* |
| 3화면 | 대시보드 | 대시보드 |

### 화면 구성

```
┌──────────────────────────────────┐
│       모의고사 성적 분석 시스템       │
│                                  │
│  수험번호  [_______________]      │
│  이름     [_______________]      │
│                                  │
│  직렬 선택                        │
│  ┌──────┐  ┌──────┐             │
│  │ 경찰  │  │ 소방  │             │  ← 유지 (수험번호 중복 대응)
│  └──────┘  └──────┘             │
│                                  │
│  ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─  │  ← 아래 영역은 처음엔 숨김
│                                  │
│  시험 회차                        │
│  ┌────────────────────────┐     │
│  │ 26년 2월 경찰 모의고사  ▼ │     │  ← 인증 성공 후 자동 표시
│  └────────────────────────┘     │
│                                  │
│  [ 확인 ]                        │
│                                  │
└──────────────────────────────────┘
```

### 동작 흐름

```
① 수험번호 + 이름 + 직렬 입력 → [확인] 클릭
②                               ↓
③ 백엔드 인증 (loginUser)
④                               ↓
⑤ 성공 → 같은 화면에서 시험 목록 드롭다운 표시
⑥                               ↓
⑦ ├─ 시험 1개  → 자동 선택 + 바로 대시보드 진입
   ├─ 시험 2개+ → 드롭다운에서 선택 → [확인] 클릭 → 대시보드
   └─ 시험 0개  → "등록된 시험이 없습니다" 안내
```

**핵심: 시험이 1개뿐이면 선택 과정 자체를 생략하고 바로 진입**

### 대시보드 진입 후 분기

```
대시보드 진입
├─ 성적 데이터 있음 → 성적분석 탭(기본) + 수험표 탭 (현재와 동일)
└─ 성적 데이터 없음 → 수험표 탭(기본, 인쇄 가능) + 성적분석 탭(비활성/"시험 종료 후 확인 가능")
```

---

## 단계별 사용자 경험 비교

| 상황 | 현재 | 개선 후 |
|------|------|---------|
| 시험 1개, 성적 있음 | 입력→로그인→시험선택→분석시작 (4클릭) | 입력→확인 (1클릭) |
| 시험 2개, 성적 있음 | 입력→로그인→시험선택→분석시작 (4클릭) | 입력→확인→시험선택→확인 (3클릭) |
| 시험 전, 수험표 인쇄 | **불가능** | 입력→확인→수험표 인쇄 (2클릭) |

---

## 구현 시 변경 범위

### 백엔드 (Code.gs)
- `getScoreAnalysis()`: 성적 없을 때 student+exam 정보만 반환하는 분기 추가
- 또는 수험표 전용 데이터 반환 함수 신규 작성

### 프론트엔드 (Index.html)
- examSelectSection 제거 → loginSection에 시험 드롭다운 통합
- 인증 성공 후 시험 목록 동적 표시 로직
- 시험 1개일 때 자동 진입 로직
- 대시보드에서 성적 유무에 따른 탭 활성/비활성 처리

### CSS (Css.html)
- 로그인 화면 내 시험 선택 영역 스타일 추가
- 비활성 탭 스타일 추가
